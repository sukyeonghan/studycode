package com.student.controller;

import com.student.model.dao.StudentDB;
import com.student.model.vo.Student;
import com.student.view.Mainview;

public class StudentManager {
	
	private StudentDB db = new StudentDB();
	//저장값이 유지되기 위해 새로 하나 만듦. 같은 공간에 접근할 수 있게
	//한 번 저장되고 수정안하니까 동일값 유지
	
	
	//서비스별 학생등록, 시작화면 출력, 데이터 저장
	public void mainview() {
		//시작화면으로 연결해주는 기능
		new Mainview().mainMenu(this);
	}

	//학생 등록 서비스
	public void enrollStudent() {
		//Student객체를 만들어서 저장해놓음
		//Student에 들어갈 각 정보를 입력 -> client가 입력 -> 화면을 보여줘야 함.
		
		Student s =new Mainview().enrollStudent();
		System.out.println(s.information());
		//입력받은 데이터를 저장소에 저장
		boolean result = db.saveStudent(s); //DB에 저장하기
		System.out.println(result);
		
		new Mainview().printMsg(result?"입력성공":"입력실패");
		
	}
	
	
	//이름으로 조회 서비스 구현
	public void searchName() {
		//이름으로 조회
		String name = new Mainview().inputName();
		Student s = db.searchName(name);
		if(s==null) {
			new Mainview().printMsg("조회결과가 없습니다.");
		}else {
			System.out.println("조회결과 : "+ s.information());
		}
		
		//지금 ram에만 저장돼서 영원히 저장이 안됨. 파일로 저장하거나 db에 저장해야 함.
	}
	
	
	public void searchAll() {
		Student[] students=db.searchAll();
		new Mainview().printStudents(students);
	}
	
}